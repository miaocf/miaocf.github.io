<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="简介批处理命令使用方便，基本在Windows环境下就可以使用。日常工作中涉及一些脚本或者Adb命令的组合使用时，可以用bat批处理文件进行编写，使用仿版。 本文主要学习一下批处理命令的基础。">
<meta property="og:type" content="article">
<meta property="og:title" content="Bat脚本基础">
<meta property="og:url" content="http://example.com/2022/02/18/Bat%E8%84%9A%E6%9C%AC%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="1943丶 Blog">
<meta property="og:description" content="简介批处理命令使用方便，基本在Windows环境下就可以使用。日常工作中涉及一些脚本或者Adb命令的组合使用时，可以用bat批处理文件进行编写，使用仿版。 本文主要学习一下批处理命令的基础。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-02-17T17:51:19.000Z">
<meta property="article:modified_time" content="2022-03-23T18:48:29.783Z">
<meta property="article:author" content="Miaocf">
<meta property="article:tag" content="Bat">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2022/02/18/Bat%E8%84%9A%E6%9C%AC%E5%9F%BA%E7%A1%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Bat脚本基础 | 1943丶 Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">1943丶 Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/18/Bat%E8%84%9A%E6%9C%AC%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Miaocf">
      <meta itemprop="description" content="Keep coding!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="1943丶 Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Bat脚本基础
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-18 01:51:19" itemprop="dateCreated datePublished" datetime="2022-02-18T01:51:19+08:00">2022-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-24 02:48:29" itemprop="dateModified" datetime="2022-03-24T02:48:29+08:00">2022-03-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Bat/" itemprop="url" rel="index"><span itemprop="name">Bat</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>批处理命令使用方便，基本在Windows环境下就可以使用。日常工作中涉及一些脚本或者Adb命令的组合使用时，可以用<code>bat</code>批处理文件进行编写，使用仿版。</p>
<p>本文主要学习一下批处理命令的基础。</p>
<span id="more"></span>

<h2 id="Echo指令"><a href="#Echo指令" class="headerlink" title="Echo指令"></a>Echo指令</h2><table>
<thead>
<tr>
<th>指令</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>echo message</td>
<td>输出指令信息 + 消息</td>
</tr>
<tr>
<td>echo on</td>
<td>默认选项，输出指令信息 + 消息</td>
</tr>
<tr>
<td>echo off</td>
<td>关闭回显，不显示指令和路径， 只显示输出结果</td>
</tr>
<tr>
<td>@echo off</td>
<td>单行不显示指令和路径，只显示输出结果</td>
</tr>
<tr>
<td>echo.</td>
<td>换行</td>
</tr>
<tr>
<td>echo message &gt; a.txt</td>
<td>将&#96;&#96;message<code>的内容写入文件</code>a.txt&#96;，若文件不存在则创建文件</td>
</tr>
<tr>
<td>echo message &gt;&gt; a.txt</td>
<td>将&#96;&#96;message<code>的内容以追加的形式写入文件</code>a.txt&#96;</td>
</tr>
</tbody></table>
<h5 id="示例程序1"><a href="#示例程序1" class="headerlink" title="示例程序1"></a>示例程序1</h5><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">:: 默认显示指令 + 结果</span><br><span class="line"><span class="built_in">echo</span> &quot;HI, This is <span class="built_in">echo</span> on.&quot;</span><br><span class="line"><span class="built_in">echo</span> &quot;Hey&quot;</span><br><span class="line">:: 回车换行</span><br><span class="line">@<span class="built_in">echo</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> &quot;This is <span class="built_in">echo</span> off.&quot;</span><br><span class="line"><span class="built_in">echo</span> &quot;Hello&quot;</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"></span><br><span class="line">:: 该指令关闭回显</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> &quot;This is @<span class="built_in">echo</span> off&quot;</span><br><span class="line"><span class="built_in">echo</span> &quot;Hello world&quot;</span><br><span class="line"><span class="built_in">echo</span> &quot;HI&quot;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> miaochaofeng &gt; a.txt</span><br><span class="line"><span class="built_in">echo</span> are learning Batch command. &gt;&gt; a.txt </span><br></pre></td></tr></table></figure>

<h5 id="运行结果："><a href="#运行结果：" class="headerlink" title="运行结果："></a>运行结果：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">F:\code\shell&gt;<span class="built_in">echo</span> <span class="string">&quot;HI, This is echo on.&quot;</span></span><br><span class="line"><span class="string">&quot;HI, This is echo on.&quot;</span></span><br><span class="line"></span><br><span class="line">F:\code\shell&gt;<span class="built_in">echo</span> <span class="string">&quot;Hey&quot;</span></span><br><span class="line"><span class="string">&quot;Hey&quot;</span></span><br><span class="line"></span><br><span class="line">F:\code\shell&gt;<span class="built_in">echo</span> off</span><br><span class="line"><span class="string">&quot;This is echo off.&quot;</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;This is @echo off&quot;</span></span><br><span class="line"><span class="string">&quot;Hello world&quot;</span></span><br><span class="line"><span class="string">&quot;HI&quot;</span></span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure>

<p>在当前目录下生成一个 <code>a.txt</code>文件。内容为：</p>
<blockquote>
<p>miaochaofeng</p>
<p>are learning Batch command.</p>
</blockquote>
<h2 id="Set指令"><a href="#Set指令" class="headerlink" title="Set指令"></a>Set指令</h2><p>Set指令主要用来是声明变量，使用变量的时候注意需要用两个 <kbd>%</kbd>将变量包围起来。可以定义的变量包括：</p>
<ul>
<li>字符串</li>
<li>表达式变量</li>
<li>用户输入字符串变量</li>
<li>系统自带的动态变量</li>
</ul>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><h5 id="实例程序2："><a href="#实例程序2：" class="headerlink" title="实例程序2："></a>实例程序2：</h5><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> a=My name is miaochaofeng.</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%a%</span></span><br><span class="line">:: 显示第<span class="number">3</span>个字符后的<span class="number">4</span>个字符</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%a:~3,4%</span></span><br><span class="line">:: 显示最后<span class="number">5</span>个字符</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%a:~-5%</span></span><br><span class="line">:: 显示除了最后<span class="number">5</span>个字符外的其他字符</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%a:~0,-5%</span></span><br><span class="line">:: 用X替换变量a中的所有a字符</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%a:a=X%</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注： 这里定义变量的时候，不可以根据美观在<kbd>=</kbd>左右两边加上空格。</p>
</blockquote>
<h5 id="输出结果："><a href="#输出结果：" class="headerlink" title="输出结果："></a>输出结果：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">My name is miaochaofeng.</span><br><span class="line">name</span><br><span class="line">feng.</span><br><span class="line">My name is miaochao</span><br><span class="line">My nXme is miXochXofeng.</span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure>



<h4 id="表达式变量"><a href="#表达式变量" class="headerlink" title="表达式变量"></a>表达式变量</h4><p>表达式变量（数值变量）区别于字符串变量，数值变量比字符串变量多一个<code>/</code>符号。二者在使用的时候同样都需要用<kbd>%</kbd>包围起来。</p>
<ul>
<li>字符串变量格式为<code>Set</code> + <code>Var</code> + <code>=value</code></li>
<li>数值变量格式为 <code>Set</code> + <code>/</code>+<code>Var</code> + <code>=value</code></li>
</ul>
<p>批处理命令设置数值变量的格式为：</p>
<ul>
<li><p>数值表达式变量：<code>set</code> + <code>/a</code> + <code>var</code>+<code>=</code>+<code>Expression</code></p>
</li>
<li><p>用户输入字符串变量：<code>set</code> + <code>/p</code> + <code>var</code>+ <code>=</code>+<code> promptString</code></p>
</li>
</ul>
<blockquote>
<p>可以通过CMD运行指令： <code>help set</code> 查看帮助</p>
</blockquote>
<h5 id="示例程序3"><a href="#示例程序3" class="headerlink" title="示例程序3"></a>示例程序3</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> /a a=30/10</span><br><span class="line"><span class="built_in">set</span> /p b=Please Input value:</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span> %a%</span><br><span class="line"><span class="built_in">echo</span> %b%</span><br></pre></td></tr></table></figure>

<h5 id="输出结果：-1"><a href="#输出结果：-1" class="headerlink" title="输出结果："></a>输出结果：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Please Input value:32767</span><br><span class="line"></span><br><span class="line">3</span><br><span class="line">32767</span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure>

<h4 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h4><p>系统变量即操作系统已经预先定义的变量，不需要我们人为赋值。也包括自定义的环境变量。</p>
<p>常用的系统变量有：<code>CD</code>，<code>DATE</code>,<code>TIME</code>,<code>ADB</code></p>
<h5 id="示例程序4"><a href="#示例程序4" class="headerlink" title="示例程序4"></a>示例程序4</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> %CD%</span><br><span class="line"><span class="built_in">echo</span> %DATE%</span><br><span class="line"><span class="built_in">echo</span> %TIME%</span><br><span class="line"><span class="built_in">echo</span> %HOMEPATH%</span><br><span class="line"><span class="built_in">echo</span> %OS%</span><br><span class="line"><span class="built_in">echo</span> %PATHEXT%</span><br><span class="line"><span class="built_in">echo</span> %APPDATA%</span><br><span class="line"><span class="built_in">echo</span> %ADB%</span><br></pre></td></tr></table></figure>

<h5 id="输出结果：-2"><a href="#输出结果：-2" class="headerlink" title="输出结果："></a>输出结果：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">F:\code\shell</span><br><span class="line"><span class="number">2022</span>/<span class="number">02</span>/<span class="number">18</span> 周五</span><br><span class="line"> <span class="number">1</span>:<span class="number">09</span>:<span class="number">25.02</span></span><br><span class="line">\Users\Miao</span><br><span class="line">Windows_NT</span><br><span class="line">.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW</span><br><span class="line">C:\Users\Miao\AppData\Roaming</span><br><span class="line">C:\ADB  <span class="comment">// 自定义的环境变量</span></span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意如果只想在当前的<code>bat</code>批处理文件中使用的环境变量，可以使用：</p>
<p>set CLASSPATH&#x3D;%SOMEPLACE%</p>
</blockquote>
<h5 id="实例程序5"><a href="#实例程序5" class="headerlink" title="实例程序5"></a>实例程序5</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> Add my define environment variable</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> myPath=F:\code</span><br><span class="line"><span class="built_in">set</span> folder=shell</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> a=%myPath%\%folder%</span><br><span class="line"><span class="built_in">echo</span> %a%</span><br></pre></td></tr></table></figure>

<h5 id="程序输出："><a href="#程序输出：" class="headerlink" title="程序输出："></a>程序输出：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Add my define environment variable</span><br><span class="line">F:\code\shell</span><br></pre></td></tr></table></figure>

<p>以上环境变量通常与下面的示例一起结合使用，达到路径拼接，环境变量新增的作用。</p>
<p>下述程序包含了<code>Call</code>命令和<code>sub</code>子函数的调用</p>
<h5 id="示例程序6"><a href="#示例程序6" class="headerlink" title="示例程序6"></a>示例程序6</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> 产生一个临时文件 &gt; tmp.txt</span><br><span class="line">Rem 下行先保存当前目录，再将c:\windows设为当前目录</span><br><span class="line"><span class="built_in">pushd</span> c:\windows</span><br><span class="line">Call :sub tmp.txt</span><br><span class="line">Rem 下行恢复前次的当前目录</span><br><span class="line">Popd</span><br><span class="line">Call :sub tmp.txt</span><br><span class="line">pause</span><br><span class="line">Del tmp.txt</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">:sub</span><br><span class="line"><span class="built_in">echo</span> 删除引号： %~1</span><br><span class="line"><span class="built_in">echo</span> 扩充到路径： %~f1</span><br><span class="line"><span class="built_in">echo</span> 扩充到一个驱动器号： %~d1</span><br><span class="line"><span class="built_in">echo</span> 扩充到一个路径： %~p1 </span><br><span class="line"><span class="built_in">echo</span> 扩充到一个文件名： %~n1</span><br><span class="line"><span class="built_in">echo</span> 扩充到一个文件扩展名： %~x1</span><br><span class="line"><span class="built_in">echo</span> 扩充的路径指含有短名： %~s1 </span><br><span class="line"><span class="built_in">echo</span> 扩充到文件属性： %~a1 </span><br><span class="line"><span class="built_in">echo</span> 扩充到文件的日期/时间： %~t1 </span><br><span class="line"><span class="built_in">echo</span> 扩充到文件的大小： %~z1 </span><br><span class="line"><span class="built_in">echo</span> 扩展到驱动器号和路径：%~dp1</span><br><span class="line"><span class="built_in">echo</span> 扩展到文件名和扩展名：%~nx1</span><br><span class="line"><span class="built_in">echo</span> 扩展到类似 DIR 的输出行：%~ftza1</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line">goto :eof</span><br></pre></td></tr></table></figure>

<h5 id="程序输出"><a href="#程序输出" class="headerlink" title="程序输出"></a>程序输出</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">删除引号： tmp.txt 						<span class="comment">// %~1</span></span><br><span class="line">扩充到路径： c:\Windows\tmp.txt 		   <span class="comment">// %~f1 </span></span><br><span class="line">扩充到一个驱动器号： c:					<span class="comment">// %~d1</span></span><br><span class="line">扩充到一个路径： \Windows\				 <span class="comment">// %~p1</span></span><br><span class="line">扩充到一个文件名： tmp					<span class="comment">// %~n1</span></span><br><span class="line">扩充到一个文件扩展名： .txt			   <span class="comment">// %~x1</span></span><br><span class="line">扩充的路径指含有短名： c:\Windows\tmp.txt</span><br><span class="line">扩充到文件属性：</span><br><span class="line">扩充到文件的日期/时间：</span><br><span class="line">扩充到文件的大小：</span><br><span class="line">扩展到驱动器号和路径：c:\Windows\		   <span class="comment">// %~dp1</span></span><br><span class="line">扩展到文件名和扩展名：tmp.txt             <span class="comment">// %~nx1</span></span><br><span class="line">扩展到类似 DIR 的输出行：c:\Windows\tmp.txt</span><br><span class="line"></span><br><span class="line">删除引号： tmp.txt</span><br><span class="line">扩充到路径： F:\code\shell\tmp.txt</span><br><span class="line">扩充到一个驱动器号： F:</span><br><span class="line">扩充到一个路径： \code\shell\</span><br><span class="line">扩充到一个文件名： tmp</span><br><span class="line">扩充到一个文件扩展名： .txt</span><br><span class="line">扩充的路径指含有短名： F:\code\shell\tmp.txt</span><br><span class="line">扩充到文件属性： --a--------</span><br><span class="line">扩充到文件的日期/时间： <span class="number">2022</span>/<span class="number">02</span>/<span class="number">18</span> <span class="number">01</span>:<span class="number">29</span></span><br><span class="line">扩充到文件的大小： <span class="number">19</span></span><br><span class="line">扩展到驱动器号和路径：F:\code\shell\</span><br><span class="line">扩展到文件名和扩展名：tmp.txt</span><br><span class="line">扩展到类似 DIR 的输出行：--a-------- <span class="number">2022</span>/<span class="number">02</span>/<span class="number">18</span> <span class="number">01</span>:<span class="number">29</span> <span class="number">19</span> F:\code\shell\tmp.txt</span><br><span class="line"></span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="系统环境变量表"><a href="#系统环境变量表" class="headerlink" title="系统环境变量表"></a>系统环境变量表</h4><table>
<thead>
<tr>
<th>变量</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>%ALLUSERSPROFILE%</td>
<td>返回 “所有用户” 配置文件的位置</td>
</tr>
<tr>
<td>%APPDATA%</td>
<td>返回默认情况下应用程序存储数据的位置</td>
</tr>
<tr>
<td>%CD%</td>
<td>返回当前目录字符串。也就是获得当前路径，并将其转换为字符串</td>
</tr>
<tr>
<td>%CMDCMDLINE%</td>
<td>返回用来启动当前的 Cmd.exe 的准确命令行</td>
</tr>
<tr>
<td>%CMDEXTVERSION%</td>
<td>返回当前的 “命令处理程序扩展” 的版本号</td>
</tr>
<tr>
<td>%COMPUTERNAME%</td>
<td>返回计算机名称</td>
</tr>
<tr>
<td>%COMSPEC%</td>
<td>返回命令行解释器可执行程序的准确路径。也就是返回 cmd.exe 的路径，一般在 C:\WINDOWS\system32\cmd.exe</td>
</tr>
<tr>
<td>%DATE%</td>
<td>返回当前日期字符串。和使用 date&#x2F;t 效果一样</td>
</tr>
<tr>
<td>%ERRORLEVEL%</td>
<td>返回上一条命令的错误代码。通常用 0 表示正确，非0 表示错误</td>
</tr>
<tr>
<td>%HOMEDRIVE%</td>
<td>返回连接到用户主目录的本地工作站驱动器号。基于主目录值而设置。用户主目录是在 “本地用户和组” 中指定的</td>
</tr>
<tr>
<td>%HOMEPATH%</td>
<td>返回用户主目录的完整路径。基于主目录值而设置。用户主目录是在 “本地用户和组” 中指定的</td>
</tr>
<tr>
<td>%HOMESHARE%</td>
<td>返回用户的共享目录的网络路径。基于主目录值而设置。用户主目录是在 “本地用户和组” 中指定的</td>
</tr>
<tr>
<td>%LOGONSERVER%</td>
<td>返回验证当前登录会话的域控制器的名称</td>
</tr>
<tr>
<td>%NUMBER_OF_PROCESSORS%</td>
<td>指定安装在计算机上的处理器数目(所有 CPU 的总核心数)</td>
</tr>
<tr>
<td>%OS%</td>
<td>返回操作系统名称</td>
</tr>
<tr>
<td>%PATH%</td>
<td>指定可执行文件的搜索路径。也就是在这些目录下的可执行文件 （不仅仅是.exe，可以用 echo %PATHEXT% 查看哪些属于可执行文件。）可以直接在开始–&gt;运行里直接执行，当然也可以在命令提示符、批处理中直接执行。例如记事本文件位于 C:\WINDOWS\NOTEPAD.EXE ，那么我们点击 “开始–&gt;运行，输入 NOTEPAD “ 就可以打开记事本了。或者我们打开 CMD 窗口 ，直接输入 NOTEPAD 也可以打开记事本</td>
</tr>
<tr>
<td>%PATHEXT%</td>
<td>返回操作系统认为可执行的文件扩展名的列表</td>
</tr>
<tr>
<td>%PROCESSOR_ARCHITECTURE%</td>
<td>返回处理器的芯片体系结构。返回值为 x86 或 IA64 或 RISC。这些都是常见的架构 ，或者称作指令集。Windows 操作系统都是基于 x86 架构开发的，国产CPU 不是采用 x86 指令集 ，所以无法运行 Windows</td>
</tr>
<tr>
<td>%PROCESSOR_IDENTFIER%</td>
<td>返回处理器说明</td>
</tr>
<tr>
<td>%PROCESSOR_LEVEL%</td>
<td>返回计算机上安装的处理器型号</td>
</tr>
<tr>
<td>%PROCESSOR_REVISION%</td>
<td>返回处理器版本号</td>
</tr>
<tr>
<td>%PROMPT%</td>
<td>返回当前解释程序的命令提示符设置。由 Cmd.exe 生成</td>
</tr>
<tr>
<td>%RANDOM%</td>
<td>返回 0 到 32767 之间的任意十进制数字。由 Cmd.exe 生成</td>
</tr>
<tr>
<td>%SYSTEMDRIVE%</td>
<td>返回包含Windows server operation system根目录（即系统根目录）的驱动器</td>
</tr>
<tr>
<td>%SYSTEMROOT%</td>
<td>返回 Windows server operation system 根目录位置</td>
</tr>
<tr>
<td>%TEMP% 和 %TMP%</td>
<td>返回对当前登录用户可用的应用程序所使用的默认临时目录。有些应用程序需要 TEMP，而其他应用程序则需要 TMP</td>
</tr>
<tr>
<td>%TIME%</td>
<td>返回当前时间字符串。使用与 time &#x2F;t 命令相同的格式</td>
</tr>
<tr>
<td>%USERDOMAIN%</td>
<td>返回包含用户账户的域的名称</td>
</tr>
<tr>
<td>%USERNAME%</td>
<td>返回当前登录的用户的名称</td>
</tr>
<tr>
<td>%USERPROFILE%</td>
<td>返回当前用户的配置文件的位置</td>
</tr>
<tr>
<td>%WINDIR%</td>
<td>返回操作系统目录的位置</td>
</tr>
</tbody></table>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Bat/" rel="tag"># Bat</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/12/21/C_%E6%8C%87%E9%92%88%E5%92%8C%E4%B8%8B%E6%A0%87/" rel="prev" title="C_指针和下标">
      <i class="fa fa-chevron-left"></i> C_指针和下标
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/02/22/nRF52840%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%80%EF%BC%89/" rel="next" title="nRF52840开发（一）">
      nRF52840开发（一） <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Echo%E6%8C%87%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">Echo指令</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F1"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">示例程序1</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="nav-number">2.0.0.2.</span> <span class="nav-text">运行结果：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set%E6%8C%87%E4%BB%A4"><span class="nav-number">3.</span> <span class="nav-text">Set指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">3.0.1.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E7%A8%8B%E5%BA%8F2%EF%BC%9A"><span class="nav-number">3.0.1.1.</span> <span class="nav-text">实例程序2：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="nav-number">3.0.1.2.</span> <span class="nav-text">输出结果：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="nav-number">3.0.2.</span> <span class="nav-text">表达式变量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F3"><span class="nav-number">3.0.2.1.</span> <span class="nav-text">示例程序3</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C%EF%BC%9A-1"><span class="nav-number">3.0.2.2.</span> <span class="nav-text">输出结果：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-number">3.0.3.</span> <span class="nav-text">系统变量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F4"><span class="nav-number">3.0.3.1.</span> <span class="nav-text">示例程序4</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C%EF%BC%9A-2"><span class="nav-number">3.0.3.2.</span> <span class="nav-text">输出结果：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E7%A8%8B%E5%BA%8F5"><span class="nav-number">3.0.3.3.</span> <span class="nav-text">实例程序5</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E8%BE%93%E5%87%BA%EF%BC%9A"><span class="nav-number">3.0.3.4.</span> <span class="nav-text">程序输出：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F6"><span class="nav-number">3.0.3.5.</span> <span class="nav-text">示例程序6</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E8%BE%93%E5%87%BA"><span class="nav-number">3.0.3.6.</span> <span class="nav-text">程序输出</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A1%A8"><span class="nav-number">3.0.4.</span> <span class="nav-text">系统环境变量表</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Miaocf"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Miaocf</p>
  <div class="site-description" itemprop="description">Keep coding!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/miaocf" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;miaocf" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:miaochf@shanghaitech.edu.cn" title="E-Mail → mailto:miaochf@shanghaitech.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; Sun Jul 04 2021 08:00:00 GMT+0800 (中国标准时间) – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Miaocf</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  















  

  

</body>
</html>
